<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>conway's game of life</title>
    <link rel="stylesheet" type="text/css" href="newlife.css">
    <script type="text/javascript"src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  </head>
  <body>
    <div id="space"></div>
    <div id="current-array"><p></p></div>
    <div class="count" id="generation"><h3>0</h3></div>
    <div class="btn-group">
      <input type="button" value="start" class="btn" id="start-btn">
      <input type="button" value="clear" class="btn" id="clear-btn">
      <input type="button" value="refresh" class="btn" id="refresh-btn">
    </div>
    <script src="newlife.js"></script>
    <script>
     var row = 50;
     var col = 50;

     var lifeArray = initEmpty2D(row, col);

     var conways = new Conways(lifeArray, 'space', 'conways-game-0', 10);
     conways.draw();

     $('.grid').on('click', function() {
       conways.clicked($(this).attr("id"));
     });

     var myInterval;
     var timerStarted = false;
     $('#start-btn').on('click', function() {
       conways.run(20, 0);
     });

     $('#refresh-btn').on('click', function() {
       $('#current-array p').empty();
       for (var i = 0; i < conways.row; i++) {
         var rowString = ""
         for (var j = 0; j < conways.col; j++) {
           rowString += conways.current[i][j] + " ";
         }
         $('#current-array p').append(rowString + "<br>");
       }
     });

    /* $('#stop-btn').on('click', function() {
       $('#stop-btn').attr("value", "start");
       $('#stop-btn').attr("id", "start-btn");
       clearInterval(myInterval);
       timerStarted = false;
     });*/

     $('#clear-btn').on('click', function() {
       conways.pause();
     });

     function initEmpty2D(r, c) {
       arr = new Array(r);
       for (var i = 0; i < r; i++) {
         arr[i] = new Array(c);
         for (var j = 0; j < c; j++) {
           arr[i][j] = 0;
         }
       }
       return arr;
     }
    </script>
  </body>
</html>